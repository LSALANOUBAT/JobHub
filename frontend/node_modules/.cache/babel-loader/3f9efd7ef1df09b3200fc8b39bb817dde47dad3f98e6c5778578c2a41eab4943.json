{"ast":null,"code":"var _jsxFileName = \"/home/louis/T-WEB-501-PAR_50/frontend/src/pages/monitor/components/CreateButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"./Modal\";\nimport { toast } from \"sonner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateButtonComponent = ({\n  apiurl,\n  keyTypes,\n  onClose,\n  onDataCreated\n}) => {\n  _s();\n  const [editedData, setEditedData] = useState({});\n  const handleInputChange = e => {\n    const {\n      name,\n      value,\n      type\n    } = e.target;\n    setEditedData(prevData => ({\n      ...prevData,\n      [name]: type === \"number\" ? parseFloat(value) : value\n    }));\n  };\n  const handleSaveClick = async () => {\n    try {\n      for (const key in editedData) {\n        if (typeof editedData[key] !== keyTypes[key]) {\n          toast.error(`Invalid data type for key: ${key}`);\n          return;\n        }\n      }\n      const response = await axios.post(apiurl, editedData);\n      if (response.status === 201) {\n        toast.success(\"Item created successfully!\");\n        onDataCreated(); // Trigger the parent component to fetch updated data\n        onClose(); // Close the modal after saving the item\n      } else {\n        toast.error(\"Error creating item\");\n      }\n    } catch (error) {\n      toast.error(\"Error creating item\");\n    }\n  };\n  const handleCancelClick = () => {\n    onClose(); // Call the onClose function to close the modal\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [Object.keys(keyTypes).map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: key,\n          children: key\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this), keyTypes[key] === \"boolean\" ? /*#__PURE__*/_jsxDEV(\"select\", {\n          name: key,\n          value: editedData[key] || \"\",\n          onChange: handleInputChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: true,\n            children: \"True\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: false,\n            children: \"False\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this) : keyTypes[key] === \"number\" ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: key,\n          value: editedData[key] || \"\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: key,\n          value: editedData[key] || \"\",\n          onChange: handleInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this)]\n      }, key, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleSaveClick,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleCancelClick,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateButtonComponent, \"gxqcuEQ+UhqSEbfD6gqEhSEYQCc=\");\n_c = CreateButtonComponent;\nexport default CreateButtonComponent;\nvar _c;\n$RefreshReg$(_c, \"CreateButtonComponent\");","map":{"version":3,"names":["React","useState","axios","Modal","toast","jsxDEV","_jsxDEV","CreateButtonComponent","apiurl","keyTypes","onClose","onDataCreated","_s","editedData","setEditedData","handleInputChange","e","name","value","type","target","prevData","parseFloat","handleSaveClick","key","error","response","post","status","success","handleCancelClick","children","className","Object","keys","map","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onClick","_c","$RefreshReg$"],"sources":["/home/louis/T-WEB-501-PAR_50/frontend/src/pages/monitor/components/CreateButton.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport Modal from \"./Modal\";\nimport { toast } from \"sonner\";\n\nconst CreateButtonComponent = ({\n    apiurl,\n    keyTypes,\n    onClose,\n    onDataCreated,\n}) => {\n    const [editedData, setEditedData] = useState({});\n\n    const handleInputChange = (e) => {\n        const { name, value, type } = e.target;\n        setEditedData((prevData) => ({\n            ...prevData,\n            [name]: type === \"number\" ? parseFloat(value) : value,\n        }));\n    };\n\n    const handleSaveClick = async () => {\n        try {\n            for (const key in editedData) {\n                if (typeof editedData[key] !== keyTypes[key]) {\n                    toast.error(`Invalid data type for key: ${key}`);\n                    return;\n                }\n            }\n\n            const response = await axios.post(apiurl, editedData);\n\n            if (response.status === 201) {\n                toast.success(\"Item created successfully!\");\n                onDataCreated(); // Trigger the parent component to fetch updated data\n                onClose(); // Close the modal after saving the item\n            } else {\n                toast.error(\"Error creating item\");\n            }\n        } catch (error) {\n            toast.error(\"Error creating item\");\n        }\n    };\n    const handleCancelClick = () => {\n        onClose(); // Call the onClose function to close the modal\n    };\n    return (\n        <Modal>\n            <div className=\"modal-content\">\n                {Object.keys(keyTypes).map((key) => (\n                    <div key={key}>\n                        <label htmlFor={key}>{key}</label>\n                        {keyTypes[key] === \"boolean\" ? (\n                            <select\n                                name={key}\n                                value={editedData[key] || \"\"}\n                                onChange={handleInputChange}\n                            >\n                                <option value={true}>True</option>\n                                <option value={false}>False</option>\n                            </select>\n                        ) : keyTypes[key] === \"number\" ? (\n                            <input\n                                type=\"number\"\n                                name={key}\n                                value={editedData[key] || \"\"}\n                                onChange={handleInputChange}\n                            />\n                        ) : (\n                            <input\n                                type=\"text\"\n                                name={key}\n                                value={editedData[key] || \"\"}\n                                onChange={handleInputChange}\n                            />\n                        )}\n                    </div>\n                ))}\n                <button type=\"button\" onClick={handleSaveClick}>\n                    Save\n                </button>\n                <button type=\"button\" onClick={handleCancelClick}>\n                    Cancel\n                </button>\n            </div>\n        </Modal>\n    );\n};\n\nexport default CreateButtonComponent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}